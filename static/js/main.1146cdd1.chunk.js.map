{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","Api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","name","vote_average","type","onClick","setState","bind","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassName","Pagination","createElements","n","elements","i","push","page","updatePage","arr","Array","from","length","v","k","changePage","p","console","log","href","map","item","key","App","getMovies","fetch","then","res","json","data","movies","results","filter","list","id","updateMovies","prevProps","prevState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAoDeA,E,kDAjDb,aAAe,IAAD,8BACZ,gBACKC,MAAQ,CACXC,WAAW,GAHD,E,qGAWJ,IAAD,SACuEC,KAAKC,MAA3EC,EADD,EACCA,MAAOC,EADR,EACQA,YAAaC,EADrB,EACqBA,oBAAqBC,EAD1C,EAC0CA,yBACjD,OACE,yBAAKC,UAAU,QACb,yBAAKA,UAAU,eAAeC,IAAG,yCAAoCL,EAAMM,eAAiBN,EAAMO,aAAeC,IAAI,KACrH,yBAAKJ,UAAU,aACb,wBAAIA,UAAU,cAAcJ,EAAMS,MAClC,yBAAKL,UAAU,qDACb,uBAAGA,UAAU,QAAb,WAA6BJ,EAAMU,cAClCZ,KAAKF,MAAMC,UACV,4BAAQc,KAAK,SAASP,UAAU,kBAAkBQ,QAAS,WACzD,EAAKC,SAAS,CACZhB,WAAW,IAEbM,EAAyBH,KAJ3B,qBAQA,4BACEW,KAAK,SACLP,UAAU,oBACVQ,QAAS,WACL,EAAKC,SAAS,CACZhB,WAAW,IAEbK,EAAoBF,KAP1B,mBAaJ,4BAAQY,QAASX,EAAYa,KAAKhB,KAAME,IAAxC,gB,GA3Cce,IAAMC,WCqDfC,E,oLApDSC,EAAWC,GAE/B,OAAID,EAAUE,UAAYtB,KAAKC,MAAMqB,U,+BAO9B,MAE2BtB,KAAKC,MAA/BqB,EAFD,EAECA,QAASC,EAFV,EAEUA,aAEXC,EAAc,SAACC,GAAD,OAAW,WAC7BF,EAAaE,KAGTC,EAAe,SAACD,GACpB,MAAM,YAAN,OAAmBH,IAAYG,EAAQ,SAAW,KAGpD,OACE,wBAAInB,UAAU,sBACZ,wBAAIA,UAAU,YACZ,yBACEA,UAAWoB,EAAa,mBACxBZ,QAASU,EAAY,oBAFvB,oBAOF,wBAAIlB,UAAU,YACZ,yBACEA,UAAWoB,EAAa,gBACxBZ,QAASU,EAAY,iBAFvB,iBAOF,wBAAIlB,UAAU,YACZ,yBACEA,UAAWoB,EAAa,qBACxBZ,QAASU,EAAY,sBAFvB,2B,GAzCcP,IAAMC,WCsDfS,E,4MArDbC,eAAiB,SAACC,GAEhB,IADA,IAAIC,EAAW,GACNC,EAAI,EAAGA,EAAIF,EAAGE,IACrBD,EAASE,KAAK,4BAAKD,IAErB,OAAOD,G,uDAGC,IAAD,EACsB9B,KAAKC,MAA1BgC,EADD,EACCA,KAAMC,EADP,EACOA,WACVC,EAAOC,MAAMC,KAAK,CAACC,OAAO,KAAI,SAACC,EAAEC,GAAH,OAAOA,EAAE,KAErCC,EAAa,SAACC,GAAD,OAAO,WACpBA,GAAK,GAAKA,GAAK,IACjBR,EAAWQ,GAEbC,QAAQC,IAAIF,KAOd,OACE,6BACE,wBAAIpC,UAAU,cACZ,wBAAIA,UAAU,YAAYQ,QAAS2B,EAAWR,EAAO,IACnD,uBAAG3B,UAAU,YAAYuC,KAAK,KAA9B,aAKDV,EAAIW,KAAI,SAACC,GACR,OACE,wBAAIC,IAAKD,EAAMzC,WAfHoC,EAe2BK,EAdzC,aAAN,OAAoBd,IAASS,EAAI,SAAW,KAcU5B,QAAS2B,EAAWM,IAChE,uBAAGzC,UAAU,YAAYuC,KAAK,KAC3BE,IAjBM,IAACL,KAuBhB,wBAAIpC,UAAU,YAAYQ,QAAS2B,EAAWR,EAAO,IACnD,uBAAG3B,UAAU,YAAYuC,KAAK,KAA9B,e,GA5Ca5B,IAAMC,WCmHhB+B,E,kDA9Gb,aAAe,IAAD,8BACZ,gBA0BFC,UAAY,WACVC,MAAM,GAAD,OCnCc,+BDmCd,mCCjCgB,mCDiChB,oBAAiD,EAAKrD,MAAMwB,QAA5D,iBAA4E,EAAKxB,MAAMmC,OAC3FmB,MAAK,SAACC,GACL,OAAOA,EAAIC,UACVF,MAAK,SAACG,GACP,EAAKxC,SAAS,CACZyC,OAAQD,EAAKE,QAAQC,QAAQ,SAAAX,GAAI,OAAa,OAATA,WAjC7B,EAsCd3C,oBAAsB,SAACF,GAErB,IAAMyD,EAAI,sBAAO,EAAK7D,MAAMC,WAAlB,CAA6BG,IACrC,EAAKa,SAAS,CACZhB,UAAW4D,KA1CH,EA8CdtD,yBAA2B,SAACH,GAC1B,IAAMyD,EAAO,EAAK7D,MAAMC,UAAU2D,QAAQ,SAAAhB,GAAC,OAAIA,EAAEkB,KAAO1D,EAAM0D,MAC9D,EAAK7C,SAAS,CACZhB,UAAW4D,KAjDD,EAqDdxD,YAAc,SAACD,GACb,IAAM2D,EAAe,EAAK/D,MAAM0D,OAAOE,QAAO,SAAUX,GACtD,OAAOA,EAAKa,KAAO1D,EAAM0D,MAE3B,EAAK7C,SAAS,CACZyC,OAAQK,KA1DE,EA8DdtC,aAAe,SAAAE,GACb,EAAKV,SAAS,CACZO,QAASG,KAhEC,EAoEdS,WAAa,SAAAQ,GACT,EAAK3B,SAAS,CACZkB,KAAMS,KApEV,EAAK5C,MAAQ,CACX0D,OAAQ,GACRzD,UAAW,GACXuB,QAAS,kBACTW,KAAM,GANI,E,gEAYZjC,KAAKkD,c,yCAGYY,EAAWC,GAIvBA,EAAUzC,UAAYtB,KAAKF,MAAMwB,SAClCtB,KAAKkD,YAEJa,EAAU9B,OAASjC,KAAKF,MAAMmC,MAC/BjC,KAAKkD,c,+BAmDD,IAAD,OAEP,OACE,yBAAK5C,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,SACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,UACX,kBAAC,EAAD,CAAWgB,QAAStB,KAAKF,MAAMwB,QAASC,aAAcvB,KAAKuB,iBAGjE,yBAAKjB,UAAU,OACZN,KAAKF,MAAM0D,OAAOV,KAAI,SAAC5C,GACtB,OACE,yBAAKI,UAAU,aAAa0C,IAAK9C,EAAM0D,IACrC,kBAAC,EAAD,CACA1D,MAAOA,EACPC,YAAa,EAAKA,YAClBC,oBAAqB,EAAKA,oBAC1BC,yBAA0B,EAAKA,iCAOzC,yBAAKC,UAAU,SACb,0CAAgBN,KAAKF,MAAMC,UAAUuC,SAEvC,kBAAC,EAAD,CAAYL,KAAMjC,KAAKF,MAAMmC,KAAMC,WAAYlC,KAAKkC,mB,GAxG5CjB,IAAMC,W,MEAxB8C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.1146cdd1.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      willWatch: false,\r\n    };\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log(\"unmount \" + this.props.movie.title);\r\n  }\r\n\r\n  render() {\r\n    const { movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        <img className=\"card-img-top\" src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path || movie.poster_path}`} alt=\"\"></img>\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{movie.name}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mp-0\">Rating: {movie.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button type=\"button\" className=\"btn btn-success\" onClick={() => {\r\n                this.setState({\r\n                  willWatch: false,\r\n                });\r\n                removeMovieFromWillWatch(movie)}}>\r\n                Remove Will watch\r\n              </button>\r\n            ) : (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true,\r\n                    });\r\n                    addMovieToWillWatch(movie)}}\r\n              >\r\n                Add Will watch\r\n              </button>\r\n            )}\r\n          </div>\r\n          <button onClick={removeMovie.bind(this, movie)}>Delete</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\n\r\nclass MovieTabs extends React.Component {\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    //console.log(\"tabs should component update\");\r\n    if (nextProps.sort_by !== this.props.sort_by) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"tabs render\");\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = (value) => () => {\r\n      updateSortBy(value);\r\n    };\r\n\r\n    const getClassName = (value) => {\r\n      return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\r\n    };\r\n\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassName(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassName(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassName(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n          >\r\n            Vote average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n\r\nclass Pagination extends React.Component {\r\n  createElements = (n) => {\r\n    var elements = [];\r\n    for (let i = 0; i < n; i++) {\r\n      elements.push(<li>{i}</li>);\r\n    }\r\n    return elements;\r\n  };\r\n\r\n  render() {\r\n    const { page, updatePage } = this.props;\r\n    let arr =  Array.from({length:10},(v,k)=>k+1);\r\n    \r\n    const changePage = (p) => () => {\r\n      if (p >= 1 && p <= 10) {\r\n        updatePage(p);\r\n      }\r\n      console.log(p);\r\n    };\r\n\r\n    const getClassName = (p) => {\r\n      return `page-item ${page === p ? \"active\" : \"\"}`;\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <ul className=\"pagination\">\r\n          <li className=\"page-item\" onClick={changePage(page - 1)}>\r\n            <a className=\"page-link\" href=\"#\">\r\n              Previous\r\n            </a>\r\n          </li>\r\n\r\n          {arr.map((item) => {\r\n            return (\r\n              <li key={item} className={getClassName(item)} onClick={changePage(item)}>\r\n                <a className=\"page-link\" href=\"#\">\r\n                  {item}\r\n                </a>\r\n              </li>\r\n            );\r\n          })}\r\n\r\n          <li className=\"page-item\" onClick={changePage(page + 1)}>\r\n            <a className=\"page-link\" href=\"#\">\r\n              Next\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport {API_URL as url, API_KEY_3 as key} from '../Api.js'\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      movies: [],\r\n      willWatch: [],\r\n      sort_by: 'popularity.desc',\r\n      page: 1,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(\"app did mount\");\r\n    this.getMovies();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n      // console.log(\"app update\");\r\n      // console.log(\"prev \", prevProps, prevState);\r\n      // console.log(\"prev \", this.props, this.state);\r\n      if(prevState.sort_by !== this.state.sort_by){\r\n        this.getMovies();\r\n      }\r\n      if(prevState.page !== this.state.page) {\r\n        this.getMovies();\r\n      }\r\n  }\r\n\r\n  getMovies = () => {\r\n    fetch(`${url}/discover/movie?api_key=${key}&sort_by=${this.state.sort_by}&page=${this.state.page}`)\r\n    .then((res) => {\r\n      return res.json();\r\n    }).then((data) => {\r\n      this.setState({\r\n        movies: data.results.filter( item => item !== null),\r\n      })\r\n    })\r\n  }\r\n\r\n  addMovieToWillWatch = (movie) => {\r\n    // console.log(movie)\r\n    const list = [...this.state.willWatch, movie ];\r\n      this.setState({\r\n        willWatch: list,\r\n      })\r\n  }\r\n\r\n  removeMovieFromWillWatch = (movie) => {\r\n    const list = this.state.willWatch.filter( p => p.id !== movie.id);\r\n    this.setState({\r\n      willWatch: list,\r\n    })\r\n  }\r\n\r\n  removeMovie = (movie) => {\r\n    const updateMovies = this.state.movies.filter(function (item) {\r\n      return item.id !== movie.id;\r\n    });\r\n    this.setState({\r\n      movies: updateMovies,\r\n    });\r\n  };\r\n\r\n  updateSortBy = value => {\r\n    this.setState({\r\n      sort_by: value,\r\n    })\r\n  }\r\n\r\n  updatePage = p => {\r\n      this.setState({\r\n        page: p\r\n      })\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"app render\");\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n                  <MovieTabs sort_by={this.state.sort_by} updateSortBy={this.updateSortBy}/>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map((movie) => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                    movie={movie}\r\n                    removeMovie={this.removeMovie}\r\n                    addMovieToWillWatch={this.addMovieToWillWatch}\r\n                    removeMovieFromWillWatch={this.removeMovieFromWillWatch}\r\n                  />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <p>Will watch: {this.state.willWatch.length}</p>\r\n          </div>\r\n          <Pagination page={this.state.page} updatePage={this.updatePage}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export const API_URL = 'https://api.themoviedb.org/3'\r\n\r\nexport const API_KEY_3 = '455bf3bcb765b8b07f0bb4d2877f0533'\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}